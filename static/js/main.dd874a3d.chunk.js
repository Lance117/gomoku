(this.webpackJsonpgomoku=this.webpackJsonpgomoku||[]).push([[0],{23:function(e,t,n){e.exports=n(24)},24:function(e,t,n){"use strict";n.r(t);var r=n(11),a=n(14),i=n(15),s=n(16),u=n(17),l=n(1),o=n.n(l),c=n(9),f=n.n(c),h=(n(29),n(45)),v=n(40),d=n(41),m=n(42),p=n(13),g=n(43),y=n(44),k=(n(30),15),b=j(5),E=j(6),O=j(7),x=function(){for(var e=new Uint32Array(450),t=0;t<e.length;t++)e[t]=4294967296*Math.random();return e}(),w={};function M(e){var t=e.sqState?"square "+e.sqState:"square unclicked";return e.isWinner&&(t+=" is-winner"),e.lastMove&&(t+=" last-move"),o.a.createElement("button",{className:t,"cur-piece":e.curPiece,onClick:function(){return e.onClick()}},e.value)}function N(e){var t,n;return"default"===e.mode?(t="Play With a Friend",n="Are you sure you want to restart?"):"ai"===e.mode&&(t="Play Against Computer",n="Are you sure you want to play against computer?"),o.a.createElement(h.a,{isOpen:e.modal,toggle:e.toggle},o.a.createElement(v.a,{toggle:e.toggle},t),o.a.createElement(d.a,null,n),o.a.createElement(m.a,null,o.a.createElement(p.a,{color:"primary",onClick:e.reset},"Yes")," ",o.a.createElement(p.a,{color:"secondary",onClick:e.toggle},"Cancel")))}var q=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).state={squares:Array(225).fill(null),xIsNext:!0,winner:null,spotsOccupied:0,openModal:!1,mode:"ai",selectedMode:null,lastMove:null},r}return Object(i.a)(n,[{key:"handleClick",value:function(e){var t=this.state.squares.slice();this.state.winner||t[e]||(t[e]=this.state.xIsNext?"X":"O",this.setState({squares:t,xIsNext:!this.state.xIsNext,winner:A(t),spotsOccupied:this.state.spotsOccupied+1,lastMove:e}))}},{key:"toggle",value:function(e){this.setState({openModal:!this.state.openModal,selectedMode:e})}},{key:"reset",value:function(e){this.setState({squares:Array(225).fill(null),xIsNext:!0,winner:null,spotsOccupied:0,openModal:!1,mode:e,selectedMode:null,lastMove:null})}},{key:"renderSquare",value:function(e){var t=this;return o.a.createElement(M,{key:"square"+e.toString(),curPiece:this.state.xIsNext?"X":"O",value:this.state.squares[e],sqState:this.state.squares[e]?"clicked-"+this.state.squares[e]:null,isWinner:this.state.winner&&this.state.winner[1].includes(e),lastMove:!this.state.winner&&this.state.lastMove===e,onClick:function(){return t.handleClick(e)}})}},{key:"renderBoard",value:function(){for(var e=[],t=0;t<k;t++){for(var n=[],r=t*k;r<k*(t+1);r++)n.push(this.renderSquare(r));e.push(o.a.createElement("div",{className:"board-row",key:"row"+t.toString()},n))}return e}},{key:"componentDidUpdate",value:function(){var e=this;"ai"!==this.state.mode||this.state.xIsNext||window.setTimeout((function(t){return e.handleClick(J(e.state.squares,-1/0,1/0,0)[1])}),500)}},{key:"render",value:function(){var e,t,n=this;this.state.winner?(e="Winner: "+this.state.winner[0],t="X"===this.state.winner[0]?"success":"danger"):225===this.state.spotsOccupied?e="Game ended in a draw":"ai"!==this.state.mode||this.state.xIsNext?"ai"===this.state.mode?e="Human vs AI: your turn":(e="Next player: "+(this.state.xIsNext?"X":"O"),t=this.state.xIsNext?"info":"primary"):(e="Thinking...",t="info");var r="ai"===this.state.mode&&!this.state.xIsNext&&!this.state.winner;return o.a.createElement("div",null,o.a.createElement(g.a,{color:t},e,r&&o.a.createElement(y.a,{size:"sm",color:"primary"})),this.renderBoard(),o.a.createElement("div",{className:"btn-options"},o.a.createElement(p.a,{color:"info",onClick:function(e){return n.toggle("ai",e)}},"PLAY COMPUTER")," ",o.a.createElement(p.a,{color:"primary",onClick:function(e){return n.toggle("default",e)}},"PLAY A FRIEND")," "),o.a.createElement(N,{modal:this.state.openModal,mode:this.state.selectedMode,reset:function(e){return n.reset(n.state.selectedMode,e)},toggle:function(){return n.toggle()}}))}}]),n}(o.a.Component),C=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"game"},o.a.createElement("div",{className:"game-board"},o.a.createElement(q,null)),o.a.createElement("div",{className:"game-info"},o.a.createElement("div",null),o.a.createElement("ol",null)))}}]),n}(o.a.Component);function I(e,t,n){for(var r=[],a=0;a<t;a++)r.push(e+a*n);return r}function X(e){var t={};return e.forEach((function(e){return t[e]=(t[e]||0)+1})),t}function j(e){for(var t=[],n=0;n<k;n++){for(var r=n*k;r<=n*k+k-e;r++){for(var a=[],i=0;i<e;i++)a.push(r+i);t.push(a)}for(var s=n;s<=n+k*(k-e);s+=k){for(var u=[],l=0;l<e;l++)u.push(s+k*l);t.push(u)}for(var o=0;o<k-e+1-n;o++){var c=n+16*o,f=14*(o+1)-n,h=k*n+16*o,v=k*n+14*(o+1);t.push(I(c,e,16)),t.push(I(f,e,14)),t.push(I(h,e,16)),t.push(I(v,e,14))}}return t}function A(e){for(var t=0;t<b.length;t++)if(e[b[t][0]]&&b[t].every((function(t,n,r){return e[t]===e[r[0]]})))return[e[b[t][0]],b[t]];return null}function S(e){for(var t=[0,0],n=0;n<b.length;n++){var r=X(b[n].map((function(t){return e[t]})));4===r.X&&1===r.null?t[0]+=1:4===r.O&&1===r.null&&(t[1]+=1)}return t}function P(e){for(var t=[0,0],n=0;n<E.length;n++){var r=E[n],a=r.slice(1,5);!(e[a[0]]&&a.every((function(t,n,r){return e[t]===e[r[0]]})))||e[r[0]]||e[r[5]]||("X"===e[a[0]]?t[0]+=1:t[1]+=1)}return t}function W(e){for(var t=[0,0],n=function(n){var r=O[n].map((function(t){return e[t]})),a=r.slice(0,6),i=r.slice(1,7),s=X(r),u=X(a),l=X(i),o=r.slice(2,5);if(o[0]&&o.every((function(e){return e===o[0]}))&&4===s.null)return"X"===o[0]?t[0]+=1:t[1]+=1,"continue";for(var c=function(){var e=h[f],n=e.slice(1,5);if(3===(e===a?u:l).null&&3===n.filter((function(e){return e===n[1]})).length&&(!n[0]||!n[4]))return"X"===n[1]?t[0]+=1:"O"===n[1]&&(t[1]+=1),"break"},f=0,h=[a,i];f<h.length;f++){if("break"===c())break}},r=0;r<O.length;r++)n(r);return t}function B(e){for(var t=[0,0],n=function(n){var r=E[n].map((function(t){return e[t]})),a=X(r),i=r.slice(1,5);i[0]&&i[3]&&3===i.filter((function(e){return e===i[0]})).length&&3===a.null&&("X"===i[0]?t[0]+=1:t[1]+=1)},r=0;r<E.length;r++)n(r);return t}function T(e){return A(e)||!e.includes(null)}function U(e){for(var t=[],n=[],a=[0,k,-15],i=[-1,0,1],s=D(e),u=0;u<e.length;u++)if(!e[u]){var l,o=!1,c=Object(r.a)(a);try{for(c.s();!(l=c.n()).done;){var f=l.value;if(o)break;var h,v=Object(r.a)(i);try{for(v.s();!(h=v.n()).done;){var d=u+f+h.value;if(d>=0&&d<255&&e[d]){t.push(u),o=!0;break}}}catch(E){v.e(E)}finally{v.f()}}}catch(E){c.e(E)}finally{c.f()}}for(var m=0,p=t;m<p.length;m++){var g=p[m],y=D(Y(e,g,"X")),b=D(Y(e,g,"O"));y===s&&b===s||n.push([g,Math.max(Math.abs(y-s),Math.abs(b-s))])}return(n=n.sort((function(e,t){return t[1]-e[1]}))).length>0?n.map((function(e){return e[0]})).slice(0,3):t.slice(0,3)}function Y(e,t,n){var r=e.slice();return r[t]=n,r}function D(e){var t=A(e);if(t)return"X"===t[0]?1/0:-1/0;var n,r,a,i,s=[B(e),W(e),S(e),P(e)];return r=s[1],a=s[2],i=s[3],15*((n=s[0])[0]-n[1])+25*(r[0]-r[1])+70*(a[0]-a[1])+500*(i[0]-i[1])}function F(e,t,n,a){if(T(e)||4===a)return S(e)[0]>0||P(e)[0]>0?[100,null]:[D(e),null];var i=[L(e),U(e)],s=i[0],u=i[1],l=[t,u[0]];if(s in w)return[t,w[s]];var o,c=Object(r.a)(u);try{for(c.s();!(o=c.n()).done;){var f=o.value,h=J(Y(e,f,"X"),l[0],n,a+1);if(h[0]>l[0]&&(l=[h[0],f])[0]>=n)break}}catch(v){c.e(v)}finally{c.f()}return w[s]=l[1],l}function J(e,t,n,a){if(T(e)||4===a)return S(e)[1]>0||P(e)[1]>0?[-100,null]:[D(e),null];var i=[L(e),U(e)],s=i[0],u=i[1],l=[n,u[0]];if(s in w)return[n,w[s]];var o,c=Object(r.a)(u);try{for(c.s();!(o=c.n()).done;){var f=o.value,h=F(Y(e,f,"O"),t,l[0],a+1);if(h[0]<l[0]&&t>=(l=[h[0],f])[0])break}}catch(v){c.e(v)}finally{c.f()}return w[s]=l[1],l}function L(e){for(var t=0,n=0;n<e.length;n++)if(e[n]){var r="X"===e[n]?0:1;t^=x[2*n+r]}return t}f.a.render(o.a.createElement(C,null),document.getElementById("root"))},30:function(e,t,n){}},[[23,1,2]]]);
//# sourceMappingURL=main.dd874a3d.chunk.js.map